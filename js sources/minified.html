data:text/html,<meta name=viewport content=width=480,user-scalable=no><canvas width=480 height=640></canvas><script>const w=480,h=640,canvas=document.getElementsByTagName("canvas")[0],c=canvas.getContext("2d"),ra=Math.random,fl=Math.floor,pos={x:240,y:320},vel={x:0,y:0},arr=e=>[...Array(e)],scr_a=(e,a,r)=>({x:r?e[0]*w:w-e[0]*w,y:10*-e[1]+a*sc}),scr=(e,a)=>({x:e.x,y:e.y+a*sc}),ci=(e,a,r,s)=>{c.beginPath(),c.ellipse(e,a,r,r,.79,0,6.28),c.fill(),c.beginPath(),c.ellipse(e,a,r+5,r+5,.79,0,6.28),s&&c.stroke()},draw=()=>{c.clearRect(0,0,w,h),c.lineWidth=2,c.strokeStyle="#FF4500",o.map(e=>c.strokeRect(e.x-5,e.y-5+sc,10,10)),c.lineWidth=1,c.strokeStyle=c.fillStyle="#FFFFE0",ci(pos.x,pos.y,10,1),c.fillStyle="#3CB371",b.map(e=>ci(e.x,e.y+sc,7)),c.font="30px Arial",c.fillText(""+score,20,40),ri=window.requestAnimationFrame(draw)},die=()=>{clearInterval(phtmr),ri&&(ri=window.cancelAnimationFrame(ri)),c.fillStyle="red",c.textAlign="center",c.fillText("Game Over",240,320)},dist=(e,a,r=e.x-a.x,s=e.y-a.y)=>Math.sqrt(r*r+s*s),phl=()=>{pos.x+=vel.x,pos.y+=vel.y,vel.x*=.99,vel.y+=.1;let e=sc+speed+(pos.y<320?3-pos.y/(h/6):0);speed<4&&(speed+=.001),fl(sc/300)!==fl(e/300)&&spawn(~~(9*ra())),sc=e,pos.y>h&&die(),o.map(e=>dist(scr(e,1),pos)<23&&die()),b=b.filter(e=>dist(scr(e,1),pos)>23||score++&&!1)},spawn=e=>{let a=ra()>.5;chunks_o[e].map(e=>o.push(scr_a(e,-1,a))),chunks_b[e].map(e=>b.push(scr_a(e,-1,a)))},start=()=>{draw(),phtmr=setInterval(phl,20),spawn(0)},chunks_o=[[[.25,0],[.75,0],[.25,3],[.75,3],[.25,6],[.75,6]],[[.5,0],[.5,3],[.5,6]],[[.25,0],[.5,0],[.75,0]],arr(8).map(e=>[.1+.1*e,2*e]),arr(6).map(e=>[.1+.1*e,0]),arr(5).map(e=>[.25,2*e]),arr(5).map(e=>[1/6+e/6,0]),arr(6).map(e=>[1/3+e/15,0]).concat(arr(6).map(e=>[1/3+e/15,18])),arr(16).map(e=>[.06+e/17,~~e%4*4])],chunks_b=[[[.5,3]],[[.25,3],[.75,3]],[],[],[[.8,0]],[[.75,5]],arr(5).map(e=>[1/6+e/6,2]),arr(6).map(e=>[1/3+e/15,8]),[[.5,6]]];let phtmr=null,o=[],b=[],sc=0,score=0,speed=1,ri=0;canvas.onmousedown=(e=>{let a=canvas.getBoundingClientRect();vel.x=(e.clientX-a.left)/w*10-5,vel.y=-5*pos.y/h,!ri&&(draw(),phtmr=setInterval(phl,20),spawn(0))});</script>
